---
operationId: put_folders_id

summary: Update a folder

description: |-
  Updates a folder. This can be also be used to move the folder,
  create shared links, update collaborations, and more.

  # Folder locking

  When moving a folder, part of the file tree will be locked, mainly
  the source folder and all of its descendants, as well as the destination
  folder.

  For the duration of the move, no other move, copy, delete, or restore
  operation can performed on any of the locked folders.

tags:
  - Folders

x-box-reference-category: folders
x-box-enable-explorer: true

parameters:
  - $ref: '../attributes/folder_id.yml'
  - $ref: '../attributes/fields.yml'
  - $ref: '../attributes/if_match.yml'

requestBody:
  content:
    application/json:
      schema:
        properties:
          name:
            type: string
            description: |-
              The optional new name for this folder.
            example: New Folder

          description:
            $ref: "../attributes/folder__description.yml"

          sync_state:
            $ref: "../attributes/folder__sync_state.yml"

          can_non_owners_invite:
            $ref: "../attributes/folder__can_non_owners_invite.yml"

          parent:
            type: object
            description: |-
              The parent folder for this folder. Use this to move
              the folder or to restore it out of the trash.
            properties:
              id:
                type: string
                description: The ID of the new parent folder
                example: "0"

          shared_link:
            allOf:
              - $ref: "#/components/schemas/SharedLink--Writable"
              - description: |-
                  Enables the creation of a shared link for this folder

          folder_upload_email:
            allOf:
              - $ref: "#/components/schemas/FolderUploadEmail"
              - description: |-
                  Setting this object enables the upload email address.

                  This email address can be used by users to directly
                  upload files directly to the folder via email.

                  Setting the value to `null` will disable the email address.

          owned_by:
            allOf:
              - $ref: "#/components/schemas/Owner"
              - description: Changes the user that owns this folder.

          tags:
            $ref: "../attributes/tags.yml"

          is_collaboration_restricted_to_enterprise:
            $ref:
              "../attributes/folder__is_collaboration_restricted_to_enterprise.yml"

          collections:
            type: array
            description: |-
              An array of collections to make this folder
              a member of. Currently
              we only support the `favorites` collection.

              To get the ID for a collection, use the
              [List all collections][1] endpoint.

              Passing an empty array `[]` or `null` will remove
              the folder from any collection.

              [1]: ../advanced-files-and-folders/#get-collections
            items:
              $ref: "#/components/schemas/Parent"

responses:
  200:
    description: |-
      Returns a folder object for the updated folder

      [Some fields are optional](#folder) and need to be explicitly
      requested using the [fields](#put-folders-id--request--fields)
      parameter.

      This call will return synchronously. This holds true even when
      moving folders with a large a large number of items in all of its
      descendants. For very large folders, this means the call could
      take minutes or hours to return.
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/Folder'

  400:
    description: |-
      Returns an error if some of the parameters are missing or
      invalid.

      * `bad_request` when a parameter is missing or incorrect.
      * `item_name_too_long` when the folder name is too long.
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/ClientError'

  404:
    description: |-
      Returns an error if the parent folder could not be found,
      or the authenticated user does not have access to the parent
      folder.

      * `not_found` when the authenticated user does not have access
        to the parent folder
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/ClientError'

  409:
    description: |-
      * `operation_blocked_temporary`: Returned if either of the destination
        or source folders is locked due to another move, copy, delete or
        restore operation in process.

        The operation can be retried at a later point.

      * `item_name_in_use`: Returned if a folder with the name
        already exists in the parent folder.
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/ClientError'
