---
operationId: get_files_versions_under_retention

summary: Get file versions under retention

tags:
  - Retention policy assignments

x-box-tag: retention_policy_assignments

description: |-
  Returns a list of file versions under retention for a retention policy
  assignment.
   
parameters:
  - $ref: '../attributes/retention_policy_id.yml'
  - name: fields
    description: |-
      Comma separated list of additional fields to be included in the response.
    in: query
    required: false
    example: winning_retention_policy,disposition_at
    schema:
      type: string
      enum:
        - disposition_at
        - winning_retention_policy
  - $ref: '../attributes/marker.yml'
  - $ref: '../attributes/limit.yml'

responses:
  200:
    description: |-
      Returns a list of file versions under retention that are associated with
      the specified retention policy assignment.
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/FileVersionRetentions'

  400:
    description: |-
      Returns an error if `retention_policy_assignment_id` is not specified.
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/ClientError'

  default:
    description: |-
      An unexpected client error.
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/ClientError'
